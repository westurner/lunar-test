{
  "name": "LunarEngine DevContainer",
  "build": {
    "dockerfile": "../Dockerfile"
  },
  "runArgs": [
    "--log-level=debug",

    // podman rootless args
    "--userns=keep-id",
    "--security-opt=label=disable",

    "--device","/dev/snd/seq",
    // https://github.com/NVIDIA/nvidia-container-toolkit/issues/46#issuecomment-1587350187
    "--net=host",
    "--ipc=host",
    "--device","nvidia.com/gpu=all",
    // $ sudo nvidia-ctk cdi generate --output=/etc/cdi/nvidia.yaml
    // $ nvidia-ctk cdi generate --output=/var/run/cdi/nvidia.yaml
    // "--device","/dev/dri/card0",
    // "--device","/dev/dri/renderD129",
    // "--device","/dev/dri/card1",
    // "--device","/dev/dri/renderD128",
    "-e DISPLAY",
    "-v","/tmp/.X11-unix:/tmp/.X11-unix:rw"
  ],
  "workspaceFolder": "/workspace",
  "mounts": [
    "source=${localWorkspaceFolder},target=/workspace,type=bind"
  ],
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.shell.linux": "/bin/bash"
      },
      "extensions": []
    }
  },
  "postCreateCommand": "cd librebox && ./build.sh dependencies && ./build.sh engine",
  "features": {}
}
